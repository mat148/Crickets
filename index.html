<!doctype html>
<html lang="en">
<head>
  <title>Crickets</title>
  <script src="js/three.min.js"></script>
  <script src="js/jquery-1.9.0.js"></script>
  <script src="js/OrbitControls.js"></script>
  <script src="js/ObjectLoader.js"></script>
  <script src="js/tween.min.js"></script>
  <meta charset="utf-8">
    
    
  <style>
    
    body{
      /* set margin to 0 and overflow to hidden, to go fullscreen */
      margin: 0;
      overflow: hidden;
    }
    
  </style>
</head>
<body>

<!-- Div which will hold the Output -->
<div id="WebGL-output">
</div>

<!-- Javascript code that runs our Three.js examples -->
<script type="text/javascript">
    // once everything is loaded, we run our Three.js stuff.
    
    var scene, camera, renderer;
    
    init();
    
    render();
    
    function init() {

        // create a scene, that will hold all our elements such as objects, cameras and lights.
        scene = new THREE.Scene();

        // create a camera, which defines where we're looking at.
        var SCREEN_WIDTH = window.innerWidth, SCREEN_HEIGHT = window.innerHeight;
	var VIEW_ANGLE = 45, ASPECT = SCREEN_WIDTH / SCREEN_HEIGHT, NEAR = 0.1, FAR = 20000;
	camera = new THREE.PerspectiveCamera( VIEW_ANGLE, ASPECT, NEAR, FAR);
	scene.add(camera);
	camera.position.set(0,50,150);
	camera.lookAt(scene.position);

        // create a render and set the size
        renderer = new THREE.WebGLRenderer();

        renderer.setClearColor(new THREE.Color(0xEEEEEE, 1.0));
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMapEnabled = true;

        // create the ground plane
        var planeGeometry = new THREE.PlaneGeometry(200,200);
        var planeMaterial =    new THREE.MeshLambertMaterial({color: 0xffffff});
        var plane = new THREE.Mesh(planeGeometry,planeMaterial);
        //plane.receiveShadow  = true;

        // rotate and position the plane
        plane.position.y = 0;
	plane.rotation.x = 30;

        // add the plane to the scene
        scene.add(plane);
        
        // load heart
        var heartModel = new THREE.JSONLoader();
	
        heartModel.load( "models/heart.js", function(heart){
	  var heartMaterial = new THREE.MeshLambertMaterial();
	  heartMaterial.color.setHex(0xc93c2d);
	  heartMesh = new THREE.Mesh(heart, heartMaterial);
	  scene.add(heartMesh);
	  heartMesh.position.set(0, -25, 0);
	  var heartPosition = {x:0, y:-25};
	  var heartTarget = {x:0, y:23};
	});
	
        // add spotlight for the shadow
        var spotLight = new THREE.SpotLight( 0xffffff );
        spotLight.position.set(-150,250,150);
        spotLight.castShadow = true;
        scene.add( spotLight );

        // add the output of the renderer to the html element
        $("#WebGL-output").append(renderer.domElement);
    }
        
    function render() {
	requestAnimationFrame(render);
        renderer.render(scene, camera);
    }
    
    function setUpTween() {
      
      var heartCurPosX;
      var heartCurPosY;
      var heartInc;
      
      heartCurPosX = heartMesh.position.x;
      heartCurPosY = heartMesh.position.y;
      
    }

</script>
</body>
</html>



